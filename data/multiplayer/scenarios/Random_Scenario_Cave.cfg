#textdomain wesnoth-multiplayer

#ifdef DEBUG

#define ROAD_COSTS
    [road_cost]
        terrain=Rb
        cost=1
        convert_to=Ur
    [/road_cost]
    [road_cost]
        terrain=Rb^Tf
        cost=5
        convert_to=Ur
    [/road_cost]
    [road_cost]
        terrain=Uue
        cost=3
        convert_to=Ur
    [/road_cost]
    [road_cost]
        terrain=Rb^Ii
        cost=1
        convert_to=Ur^Ii
    [/road_cost]
    [road_cost]
        terrain=Uue
        cost=10
        convert_to=Ur
    [/road_cost]
    [road_cost]
        terrain=Wwg
        cost=50
        convert_to_bridge=Wwg^Bw|,Wwg^Bw/,Wwg^Bw\
        convert_to=Ur
    [/road_cost]
#enddef

#define PLAYER_CHAMBER NUMBER X Y
    [chamber]
        id=player_{NUMBER}
        require_player={NUMBER}
        x={X}
        y={Y}
        size=5
        jagged=2
        [item_location]
            id={NUMBER}
            place_castle=yes
        [/item_location]
        [items]
            [side]
                side={NUMBER}
            [/side]
        [/items]
        [passage]
            destination=central_chamber
            windiness=3
            laziness=2
            jagged=3
            width=3
            terrain_clear=Rb
            place_villages=yes
        [/passage]
        [passage]
            destination=central_chamber
            windiness=2
            jagged=2
            width=2
            {ROAD_COSTS}
        [/passage]
    [/chamber]
#enddef

[multiplayer]
    # This id is currently hardcoded by the random map generator of the editor
    id=multiplayer_Random_Map_Cave
    name= _ "Random map (Cave)"
    description= _ "A random map set in a cave. Note: random maps are often unbalanced, but if you have time, you can regenerate them until you get a good one."
    scenario_generation=lua
    [generator]
        id="cavegen"
        config_name="Lua Cave Generator"
        create_scenario=<<
        	return wesnoth.require("lua/cave_map_generator.lua").generate_scenario(...)
        >>
        [scenario]
            name= _ "Random map (Cave)"
            id=multiplayer_Random_Map_Cave
            {DEFAULT_MUSIC_PLAYLIST}
            {DEFAULT_SCHEDULE}
        [/scenario]
        terrain_clear=Rb,Rb,Rb,Rb,Rb,Rb,Rb,Rb^Tf,Rb^Ii,Uue
        terrain_wall=Xue
        terrain_castle=Co
        terrain_keep=Co
        terrain_village=Rb^Vu,Rb^Vu,Rb^Vu,Rb^Vu,Rb^Vu,Rb^Vud,Rb^Vud,Uue^Vud

        map_width=40
        map_height=40
        village_density=25
        nplayers=4

        [chamber]
            id=central_chamber
            x=14-26
            y=14-26
            size=20
            jagged=30
        [/chamber]
        [chamber]
            id=lake
            x=14-26
            y=14-26
            size=5
            jagged=12
            terrain_clear=Wwg
        [/chamber]
        {PLAYER_CHAMBER 1 3-10 3-10}
        {PLAYER_CHAMBER 2 30-37 30-37}
        {PLAYER_CHAMBER 3 3-10 30-37}
        {PLAYER_CHAMBER 4 30-37 3-10}
    [/generator]
[/multiplayer]

#endif
